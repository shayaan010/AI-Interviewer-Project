{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/shazlimekrani/Desktop/project/spur_v7/AI-Interview-Prep-Platform-PrepWise/firebase/admin.ts"],"sourcesContent":["import admin from \"firebase-admin\";\nimport fs from 'fs';\nimport path from 'path';\n\nlet app: admin.app.App;\n\nif (!admin.apps.length) {\n  try {\n    // Check for different ways to configure Firebase Admin\n    let credential: admin.credential.Credential;\n    let storageBucket: string;\n\n    // Method 1: Use GOOGLE_APPLICATION_CREDENTIALS environment variable\n    if (process.env.GOOGLE_APPLICATION_CREDENTIALS) {\n      console.log(`[Firebase Admin] Using service account from GOOGLE_APPLICATION_CREDENTIALS`);\n      \n      const serviceAccountPath = path.resolve(process.env.GOOGLE_APPLICATION_CREDENTIALS);\n      const serviceAccountContent = fs.readFileSync(serviceAccountPath, 'utf8');\n      const serviceAccount = JSON.parse(serviceAccountContent);\n      \n      credential = admin.credential.cert(serviceAccount);\n      // Try multiple bucket naming conventions\n      const possibleBuckets = [\n        process.env.FIREBASE_STORAGE_BUCKET,\n        `${serviceAccount.project_id}.appspot.com`,\n        `${serviceAccount.project_id}.firebasestorage.app`,\n        serviceAccount.project_id\n      ].filter(Boolean);\n      \n      storageBucket = possibleBuckets[0] as string;\n    }\n    // Method 2: Fallback to hardcoded service account file\n    else {\n      console.log(`[Firebase Admin] Using fallback service account file`);\n      const serviceAccountPath = path.join(process.cwd(), \"ai-interview-prep-36e64-firebase-adminsdk-fbsvc-1400160581.json\");\n      \n      const serviceAccountContent = fs.readFileSync(serviceAccountPath, 'utf8');\n      const serviceAccount = JSON.parse(serviceAccountContent);\n      \n      credential = admin.credential.cert(serviceAccount);\n      // Try multiple bucket naming conventions\n      const possibleBuckets = [\n        process.env.FIREBASE_STORAGE_BUCKET,\n        `${serviceAccount.project_id}.appspot.com`,\n        `${serviceAccount.project_id}.firebasestorage.app`,\n        serviceAccount.project_id\n      ].filter(Boolean);\n      \n      storageBucket = possibleBuckets[0] as string;\n    }\n\n    // Initialize the app\n    app = admin.initializeApp({\n      credential: credential,\n      storageBucket: storageBucket,\n      projectId: process.env.FIREBASE_PROJECT_ID || 'ai-interview-prep-36e64'\n    });\n    \n    console.log(`[Firebase Admin] SDK initialized successfully. Project: ${app.options.projectId}, Storage bucket: ${storageBucket}`);\n    \n    // Test the connection\n    try {\n      const bucket = app.storage().bucket();\n      console.log(`[Firebase Admin] Storage bucket confirmed: ${bucket.name}`);\n    } catch (bucketError) {\n      console.error(`[Firebase Admin] Storage bucket verification failed:`, bucketError);\n    }\n  } catch (error) {\n    console.error(\"[Firebase Admin] SDK initialization failed:\", error);\n    throw new Error(`Failed to initialize Firebase Admin SDK: ${(error as Error).message}`);\n  }\n} else {\n  app = admin.app();\n  console.log(\"[Firebase Admin] Using existing app instance.\");\n}\n\n// Export auth, firestore, and storage\nexport const auth = admin.auth(app);\nexport const db = admin.firestore(app);\nexport const storage = admin.storage(app);"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;AAEA,IAAI;AAEJ,IAAI,CAAC,2HAAA,CAAA,UAAK,CAAC,IAAI,CAAC,MAAM,EAAE;IACtB,IAAI;QACF,uDAAuD;QACvD,IAAI;QACJ,IAAI;QAEJ,oEAAoE;QACpE,IAAI,QAAQ,GAAG,CAAC,8BAA8B,EAAE;YAC9C,QAAQ,GAAG,CAAC,CAAC,0EAA0E,CAAC;YAExF,MAAM,qBAAqB,iGAAA,CAAA,UAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,8BAA8B;YAClF,MAAM,wBAAwB,6FAAA,CAAA,UAAE,CAAC,YAAY,CAAC,oBAAoB;YAClE,MAAM,iBAAiB,KAAK,KAAK,CAAC;YAElC,aAAa,2HAAA,CAAA,UAAK,CAAC,UAAU,CAAC,IAAI,CAAC;YACnC,yCAAyC;YACzC,MAAM,kBAAkB;gBACtB,QAAQ,GAAG,CAAC,uBAAuB;gBACnC,GAAG,eAAe,UAAU,CAAC,YAAY,CAAC;gBAC1C,GAAG,eAAe,UAAU,CAAC,oBAAoB,CAAC;gBAClD,eAAe,UAAU;aAC1B,CAAC,MAAM,CAAC;YAET,gBAAgB,eAAe,CAAC,EAAE;QACpC,OAEK;YACH,QAAQ,GAAG,CAAC,CAAC,oDAAoD,CAAC;YAClE,MAAM,qBAAqB,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;YAEpD,MAAM,wBAAwB,6FAAA,CAAA,UAAE,CAAC,YAAY,CAAC,oBAAoB;YAClE,MAAM,iBAAiB,KAAK,KAAK,CAAC;YAElC,aAAa,2HAAA,CAAA,UAAK,CAAC,UAAU,CAAC,IAAI,CAAC;YACnC,yCAAyC;YACzC,MAAM,kBAAkB;gBACtB,QAAQ,GAAG,CAAC,uBAAuB;gBACnC,GAAG,eAAe,UAAU,CAAC,YAAY,CAAC;gBAC1C,GAAG,eAAe,UAAU,CAAC,oBAAoB,CAAC;gBAClD,eAAe,UAAU;aAC1B,CAAC,MAAM,CAAC;YAET,gBAAgB,eAAe,CAAC,EAAE;QACpC;QAEA,qBAAqB;QACrB,MAAM,2HAAA,CAAA,UAAK,CAAC,aAAa,CAAC;YACxB,YAAY;YACZ,eAAe;YACf,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;QAChD;QAEA,QAAQ,GAAG,CAAC,CAAC,wDAAwD,EAAE,IAAI,OAAO,CAAC,SAAS,CAAC,kBAAkB,EAAE,eAAe;QAEhI,sBAAsB;QACtB,IAAI;YACF,MAAM,SAAS,IAAI,OAAO,GAAG,MAAM;YACnC,QAAQ,GAAG,CAAC,CAAC,2CAA2C,EAAE,OAAO,IAAI,EAAE;QACzE,EAAE,OAAO,aAAa;YACpB,QAAQ,KAAK,CAAC,CAAC,oDAAoD,CAAC,EAAE;QACxE;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+CAA+C;QAC7D,MAAM,IAAI,MAAM,CAAC,yCAAyC,EAAE,AAAC,MAAgB,OAAO,EAAE;IACxF;AACF,OAAO;IACL,MAAM,2HAAA,CAAA,UAAK,CAAC,GAAG;IACf,QAAQ,GAAG,CAAC;AACd;AAGO,MAAM,OAAO,2HAAA,CAAA,UAAK,CAAC,IAAI,CAAC;AACxB,MAAM,KAAK,2HAAA,CAAA,UAAK,CAAC,SAAS,CAAC;AAC3B,MAAM,UAAU,2HAAA,CAAA,UAAK,CAAC,OAAO,CAAC","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///Users/shazlimekrani/Desktop/project/spur_v7/AI-Interview-Prep-Platform-PrepWise/lib/actions/auth.actions.ts"],"sourcesContent":["'use server';\n\nimport { auth, db } from \"@/firebase/admin\";\nimport { cookies } from \"next/headers\";\n\n\n// Session duration (1 week)\nconst SESSION_DURATION = 60 * 60 * 24 * 7;\n\n// Set session cookie\nexport async function setSessionCookie(idToken: string) {\n  if (!auth) {\n    console.error(\"Error setting session cookie: Firebase Admin SDK not initialized.\");\n    return false;\n  }\n  try {\n    const cookieStore = await cookies();\n\n    console.log(\"Creating session cookie from idToken (first 10 chars):\", idToken.substring(0, 10) + \"...\");\n    \n    // Verify the ID token first\n    try {\n      const decodedToken = await auth.verifyIdToken(idToken);\n      console.log(\"ID token verified. User UID:\", decodedToken.uid);\n      console.log(\"ID token audience:\", decodedToken.aud);\n      console.log(\"ID token issuer:\", decodedToken.iss);\n    } catch (verifyError) {\n      console.error(\"Error verifying ID token:\", verifyError);\n      return false;\n    }\n    \n    // Create session cookie\n    const sessionCookie = await auth.createSessionCookie(idToken, {\n      expiresIn: SESSION_DURATION * 1000, // milliseconds\n    });\n\n    console.log(\"Session cookie created successfully\");\n\n    // Set cookie in the browser\n    cookieStore.set(\"session\", sessionCookie, {\n      maxAge: SESSION_DURATION,\n      httpOnly: true,\n      secure: process.env.NODE_ENV === \"production\",\n      path: \"/\",\n      sameSite: \"lax\",\n    });\n    \n    return true;\n  } catch (error) {\n    console.error(\"Error setting session cookie:\", error);\n    return false;\n  }\n}\n\nexport async function signUp(params: SignUpParams) {\n  const { uid, name, email, password } = params;\n\n  if (!db) {\n    console.error(\"Sign-up error: Firebase Admin SDK (Firestore) not initialized.\");\n    return {\n      success: false,\n      message: \"Server database error. Please try again later.\"\n    };\n  }\n\n  try {\n    // check if user exists in db\n    const userRecord = await db.collection(\"users\").doc(uid).get();\n    if (userRecord.exists)\n      return {\n        success: false,\n        message: \"User already exists. Please sign in.\",\n      };\n    // save user to db\n    await db.collection(\"users\").doc(uid).set({\n      name,\n      email,\n      // profileURL,\n      // resumeURL,\n    });\n\n    // Get the ID token to set session cookie\n    // Note: password is not needed here as auth is already handled by Firebase client\n    // but we keep it in the params to match the interface\n\n    return {\n      success: true,\n      message: \"Account created successfully. Please sign in.\",\n    };\n  } catch (error: any) {\n    console.error(\"Error creating user\", error);\n\n    // Handle Firebase specific errors\n    if (error.code === \"auth/email-already-exists\") {\n      return {\n        success: false,\n        message: \"This email is already in use\",\n      };\n    } else if (error.code === \"auth/invalid-email\") {\n      return {\n        success: false,\n        message: \"The email address is not valid\",\n      };\n    } else if (error.code === \"auth/operation-not-allowed\") {\n      return {\n        success: false,\n        message: \"Email/password accounts are not enabled\",\n      };\n    } else if (error.code === \"auth/uid-already-exists\") {\n      return {\n        success: false,\n        message: \"The provided user ID is already in use\",\n      };\n    }\n\n    return {\n      success: false,\n      message: \"Failed to create account. Please try again.\",\n    };\n  }\n}\n\nexport async function signIn(params: SignInParams) {\n  const { email, idToken } = params;\n\n  if (!auth) {\n    console.error(\"Sign-in error: Firebase Admin SDK not initialized.\");\n    return {\n      success: false,\n      message: \"Server authentication error. Please try again later.\"\n    };\n  }\n\n  try {\n    if (!idToken) {\n      console.error(\"Sign-in error: No ID token provided\");\n      return {\n        success: false,\n        message: \"Authentication failed. Please try again.\"\n      };\n    }\n\n    console.log(\"Verifying user email:\", email);\n    const userRecord = await auth.getUserByEmail(email);\n    if (!userRecord) {\n      console.error(\"Sign-in error: User not found for email:\", email);\n      return {\n        success: false,\n        message: \"User does not exist. Create an account.\",\n      };\n    }\n\n    // Clear any existing session cookies first\n    const cookieStore = await cookies();\n    cookieStore.delete(\"session\");\n    console.log(\"Cleared existing session cookies\");\n\n    console.log(\"Setting session cookie for user:\", userRecord.uid);\n    const cookieSet = await setSessionCookie(idToken);\n    \n    if (!cookieSet) {\n      console.error(\"Failed to set session cookie\");\n      return {\n        success: false,\n        message: \"Failed to create session. Please try again.\"\n      };\n    }\n    \n    console.log(\"Sign-in successful for user:\", userRecord.uid);\n    return {\n      success: true,\n      message: \"Signed in successfully.\"\n    };\n    \n  } catch (error: any) {\n    console.error(\"Sign-in error:\", error);\n    \n    // Handle specific Firebase auth error codes\n    if (error.code === \"auth/user-not-found\") {\n      return {\n        success: false,\n        message: \"User not found. Please create an account.\"\n      };\n    } else if (error.code === \"auth/invalid-credential\") {\n      return {\n        success: false,\n        message: \"Invalid credentials. Please try again.\"\n      };\n    } else if (error.code === \"auth/id-token-expired\") {\n      return {\n        success: false,\n        message: \"Your session has expired. Please sign in again.\"\n      };\n    } else if (error.code === \"auth/id-token-revoked\") {\n      return {\n        success: false,\n        message: \"Your session has been revoked. Please sign in again.\"\n      };\n    } else if (error.code === \"auth/invalid-id-token\") {\n      return {\n        success: false,\n        message: \"Invalid authentication token. Please try again.\"\n      };\n    }\n\n    return {\n      success: false,\n      message: \"Failed to log into account. Please try again.\",\n    };\n  }\n}\n\n// Sign out user by clearing the session cookie\nexport async function signOut() {\n  const cookieStore = await cookies();\n\n  cookieStore.delete(\"session\");\n}\n\n// Get current user from session cookie\nexport async function getCurrentUser(): Promise<User | null> {\n  if (!auth || !db) { // Added db check here\n    console.error(\"[getCurrentUser] Error: Firebase Admin SDK (Auth or Firestore) not initialized.\");\n    return null;\n  }\n  const cookieStore = await cookies();\n  const sessionCookie = cookieStore.get('session')?.value;\n\n  console.log(\"[getCurrentUser] Attempting to get session cookie. Value:\", sessionCookie ? \"Exists\" : \"Not Found\");\n\n  if (!sessionCookie) {\n    console.log(\"[getCurrentUser] No session cookie found.\");\n    return null;\n  }\n\n  try {\n    console.log(\"[getCurrentUser] Verifying session cookie...\");\n    // Get project ID safely\n    let projectId = \"unknown\";\n    try {\n      projectId = (auth as any).app.options?.projectId || \"unknown\";\n    } catch (e) {\n      console.log(\"[getCurrentUser] Could not access project ID:\", e);\n    }\n    console.log(\"[getCurrentUser] Auth project ID:\", projectId);\n    \n    try {\n      // First try to decode the session cookie without verification to see what's in it\n      const parts = sessionCookie.split('.');\n      if (parts.length === 3) {\n        const decoded = JSON.parse(Buffer.from(parts[1], 'base64').toString());\n        console.log(\"[getCurrentUser] Session cookie audience:\", decoded.aud);\n        console.log(\"[getCurrentUser] Session cookie issuer:\", decoded.iss);\n      }\n    } catch (decodeError) {\n      console.log(\"[getCurrentUser] Could not decode session cookie:\", decodeError);\n    }\n    \n    const decodedClaims = await auth.verifySessionCookie(sessionCookie, true); // true checks for revocation\n    console.log(\"[getCurrentUser] Session cookie verified. UID:\", decodedClaims.uid);\n\n    // get user info from db\n    const userRecord = await db\n      .collection(\"users\")\n      .doc(decodedClaims.uid)\n      .get();\n\n    if (!userRecord.exists) {\n      console.log(\"[getCurrentUser] User not found in Firestore DB for UID:\", decodedClaims.uid);\n      return null;\n    }\n\n    console.log(\"[getCurrentUser] User found in Firestore DB. Email:\", userRecord.data()?.email);\n    return {\n      ...userRecord.data(),\n      id: userRecord.id,\n    } as User;\n  } catch (error) {\n    console.error(\"[getCurrentUser] Error verifying session cookie or fetching user:\", error instanceof Error ? error.message : String(error));\n    if (typeof error === 'object' && error !== null && 'code' in error) {\n      console.error(\"[getCurrentUser] Error code:\", (error as {code: string}).code);\n    }\n    // Invalid or expired session\n    return null;\n  }\n}\n\n// Check if user is authenticated\nexport async function isAuthenticated() {\n  console.log(\"[isAuthenticated] Checking authentication status...\");\n  const user = await getCurrentUser();\n  console.log(\"[isAuthenticated] User object:\", user ? `Exists (ID: ${user.id})` : \"null\");\n  return !!user;\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/shazlimekrani/Desktop/project/spur_v7/AI-Interview-Prep-Platform-PrepWise/components/SignOutButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/SignOutButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/SignOutButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","debugId":null}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["file:///Users/shazlimekrani/Desktop/project/spur_v7/AI-Interview-Prep-Platform-PrepWise/components/SignOutButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/SignOutButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/SignOutButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4Q,GACzS,0CACA","debugId":null}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///Users/shazlimekrani/Desktop/project/spur_v7/AI-Interview-Prep-Platform-PrepWise/app/%28root%29/layout.tsx"],"sourcesContent":["import {ReactNode} from 'react'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport { isAuthenticated } from '@/lib/actions/auth.actions'\nimport { redirect } from 'next/navigation'\nimport SignOutButton from '@/components/SignOutButton'\n\n\nconst RootLayout = async ({children}:{children: ReactNode}) => {\n\n  const isUserAuthenticated = await isAuthenticated();\n  \n  if (!isUserAuthenticated) redirect('/sign-in')\n  return (\n    <div className='root-layout'>\n      <nav className='flex items-center justify-between gap-2 p-4'> {/* Added justify-between for spacing */}\n        <Link \n          href='/' \n          className='flex items-center gap-2 hover:opacity-80 transition-opacity cursor-pointer'\n        >\n          <Image src='/logo.svg' alt='logo' width={38} height={32} />\n          <h2 className=\"text-primary-100\">PrepWise</h2>\n        </Link>\n        <div className='flex items-center gap-3'>\n          {/* Test Vapi link removed from production UI */}\n          {/* \n          <Link href='/test-vapi' className='px-4 py-2 text-sm font-medium text-white bg-blue-500 rounded-md hover:bg-blue-600 transition-colors'>\n            Test Vapi\n          </Link>\n          */}\n          <Link href='/my-account' className='px-4 py-2 text-sm font-medium text-white bg-primary-500 rounded-md hover:bg-primary-600 transition-colors'>\n            My Account\n          </Link>\n          <SignOutButton /> {/* Added SignOutButton here */}\n        </div>\n      </nav>\n        {children}\n    </div>\n  )\n}\n\nexport default RootLayout"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;AAGA,MAAM,aAAa,OAAO,EAAC,QAAQ,EAAuB;IAExD,MAAM,sBAAsB,MAAM,CAAA,GAAA,iIAAA,CAAA,kBAAe,AAAD;IAEhD,IAAI,CAAC,qBAAqB,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;oBAA8C;kCAC3D,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC,6HAAA,CAAA,UAAK;gCAAC,KAAI;gCAAY,KAAI;gCAAO,OAAO;gCAAI,QAAQ;;;;;;0CACrD,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;;;;;;;kCAEnC,8OAAC;wBAAI,WAAU;;0CAOb,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAc,WAAU;0CAA4G;;;;;;0CAG/I,8OAAC,4HAAA,CAAA,UAAa;;;;;4BAAG;;;;;;;;;;;;;YAGlB;;;;;;;AAGT;uCAEe","debugId":null}}]
}